<script>
    buildfire.appearance.getAppTheme((err, appTheme) => {
             if (err) return console.error(err);
             let views = document.getElementById("views")
             let iconView = document.getElementById("iconView")
             let summary = document.getElementById("summary");
             summary.style.color =  appTheme.colors.bodyText;

             views.style.color =  appTheme.colors.bodyText;
             iconView.style.color =  appTheme.colors.icons;

    });
</script>

<div class="holder padding-zero list-layout-3" ng-class="{'pb75': globalPlaylist}">
    <div class="media-center-plugin third-layout list-3 text-overlay">
        <div class="plugin-banner clearfix text-overlay">
            <div id="carousel" build-fire-carousel="" ng-init="WidgetHome.loadCarousel()"></div>
        </div>
        <div class="padded text-left text-overlay wysiwyg" ng-if="WidgetHome.showDescription()">
            <p class="margin-bottom-zero" ng-bind-html="WidgetHome.media.data.content.descriptionHTML | safeHtml">
            </p>
        </div>
        <div id="emptyContainer" class="padded"
            ng-if="!loadingData && !WidgetHome.items.length">
            <div ng-if="WidgetHome.media.data.content.enableFiltering"
                style="position: absolute;right:2em; top: 2em; cursor: pointer;"
                ng-click="WidgetHome.goToFilterScreen()">
                <div style=" position: relative;">
                    <i class="glyphicon glyphicon-filter filter-funnel" role="button" aria-label="Filter items" ng-if="showFeed"></i>
                    <div data-ng-if="WidgetHome.activeFilters" id="activeFilterIndicator"></div>
                </div>
            </div>
        </div>
        <div style="width: 100%; display: flex; flex-direction: row-reverse;"
            ng-if="!loadingData && WidgetHome.media.data.content.enableFiltering && WidgetHome.items && WidgetHome.items.length > 0">
            <div style="padding: 20px; padding-right: 30px; cursor: pointer;" ng-click="WidgetHome.goToFilterScreen()">
                <div style=" position: relative;">
                    <i class="glyphicon glyphicon-filter filter-funnel" role="button" aria-label="Filter items" ng-if="showFeed"></i>
                    <div data-ng-if="WidgetHome.activeFilters" id="activeFilterIndicator"></div>
                </div>
            </div>
        </div>
        <div class="widget-home-items-container">
            <div class="list-3-item" ng-repeat="item in WidgetHome.items track by $index"
                ng-click="WidgetHome.goToMedia($index)">
                <img ng-show="item.data.topImage && item.imageLoaded" alt="{{item.data.title}}" class="list-3-image" aria-hidden="true"
                     load-image image-item="item"
                     data-final-src="{{item.data.topImage}}" tabindex="0">
                <img alt="{{item.data.title}}" aria-hidden="true" ng-if="!item.data.topImage" src="../../../styles/media/holder-16x9.png"
                    class="list-3-image">
                <div class="list-3-content">
                    <div class="list-3-header">
                        <p class="list-3-title">
                            {{item.data.title}}
                        </p>
                        <div class="list-3-actions">
                            <svg data-ng-if="item.hasDownloadedMedia && WidgetHome.media.data.content.allowOfflineDownload "
                                xmlns="http://www.w3.org/2000/svg" width="15" height="16" viewBox="0 0 15 16" fill="none">
                                <path d="M7.49996 0.916992C3.59704 0.916992 0.416626 4.09741 0.416626 8.00033C0.416626 11.9032 3.59704 15.0837 7.49996 15.0837C11.4029 15.0837 14.5833 11.9032 14.5833 8.00033C14.5833 4.09741 11.4029 0.916992 7.49996 0.916992ZM6.79163 6.58366V3.75033H8.20829V6.58366H10.3333L7.49996 9.41699L4.66663 6.58366H6.79163ZM11.0416 11.542H3.95829V10.1253H11.0416V11.542Z"
                                    fill="var(--bf-theme-success)"/>
                            </svg>
                            <div data-ng-if="currentlyDownloading.indexOf(item.id) > -1" class="lds-ring-small">
                                <div></div>
                                <div></div>
                                <div></div>
                                <div></div>
                            </div>
                            <i class="glyphicon glyphicon-option-horizontal" aria-label="{{item.data.title}} media item options"
                                ng-click="WidgetHome.showDrawer($event, item)" role="button" tabindex="0"></i>
                        </div>
                    </div>
                    <div data-ng-if="item.data.summary" class="list-3-summary">
                        <p id="summary">{{item.data.summary}}</p>
                    </div>
                    <p id="views" ng-if="WidgetHome.media.data.content.showViewCount" class="list-3-views" role="text" tabindex="0" aria-label="{{item.data.title}} view count {{item.data.count ? item.data.count : 0}}">
                        <span id="iconView" aria-hidden="true">
                            <i class="glyphicon glyphicon-eye-open"></i>
                        </span>
                        {{item.data.count ? item.data.count : 0}}
                    </p>
                    <div class="list-3-date">
                        <span class="list-item-date" data-ng-if="item.data.mediaDate">{{item.data.mediaDate | jsDate | date:"MMMM dd, yyyy"}}</span>
                        <svg ng-if="item.data.opened && WidgetHome.media.data.content.indicatePlayedItems" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                            <g clip-path="url(#clip0_1115_4307)">
                                <path d="M0 0H18V18H0V0Z" fill="transparent" fill-opacity="0.6"/>
                                <path d="M6.75005 12.1502L3.60005 9.00019L2.55005 10.0502L6.75005 14.2502L15.75 5.2502L14.7 4.2002L6.75005 12.1502Z" fill="var(--bf-theme-success)"/>
                            </g>
                        </svg>
                    </div>
                    <div class="list-3-engagement">
                        <div class="engagement-item" ng-click="WidgetHome.toggleLike($event, item)">
                            <svg ng-if="!item.isLiked" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                            <svg ng-if="item.isLiked" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                            </svg>
                            <span>{{item.likeCount || 0}}</span>
                        </div>
                        <div class="engagement-item" ng-click="WidgetHome.showComments($event, item)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            <span>{{item.commentCount || 0}}</span>
                        </div>
                        <div class="engagement-item" ng-click="WidgetHome.shareMedia($event, item)">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                                <polyline points="16 6 12 2 8 6"></polyline>
                                <line x1="12" y1="2" x2="12" y2="15"></line>
                            </svg>
                            <span>Share</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-include="'templates/layouts/bottom-logo.html'"></div>
    </div>
</div>
